# #######################################################################################
# AUTOSTART CONFIGURATION
# Applications and services to start automatically with Hyprland
# #######################################################################################

# Essential system services
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP &
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP &

# Notification daemon (check which one is installed)
exec-once = dunst &
# exec-once = mako &
# exec-once = /usr/lib/notification-daemon/notification-daemon &

exec-once = /usr/lib/geoclue-2.0/demos/agent &

# Keyboard configuration
exec-once = numlockx on  # Enable Num Lock on startup

# Monitor configuration (must run before wallpaper)
exec-once = sleep 2 && ~/.config/hypr/scripts/autostart-monitors.sh &

# Monitor watcher daemon (for hotplug detection)
exec-once = sleep 5 && ~/.config/hypr/scripts/monitor-watcher.sh start &

# Wallpaper and bar (with proper ordering and error handling)
exec-once = sleep 3 && ~/.config/hypr/scripts/mpvpaper-manager.sh start &
exec-once = sleep 4 && ~/.config/waybar/launch-waybar.sh &

# Bongocat widget
exec-once = bongocat --config ~/.config/bongocat/bongocat.conf

# Oneko widget
exec-once = oneko

# Core applications
exec-once = copyq

# System optimization and management
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP

# Network and connectivity
exec-once = nm-applet --indicator &
exec-once = blueman-applet &

# Audio management - PipeWire services are handled by systemd
# exec-once = pipewire &
# exec-once = pipewire-pulse &
# exec-once = wireplumber &

# Security and privacy
exec-once = gnome-keyring-daemon --start --components=secrets &

# Idle management - Auto lock screen and power management
exec-once = hypridle -c ~/.config/hypr/hypridle/hypridle.conf &

# Performance and system monitoring
exec-once = gammastep-indicator &  # Blue light filter
exec-once = udiskie &  # Auto-mount USB drives

# Productivity tools
exec-once = [workspace 1 silent] $terminal
exec-once = [workspace 2 silent] $browser
exec-once = [workspace special:magic silent] wasistlos
exec-once = [workspace 3 silent] youtube-music

# Optional applications (uncomment as needed)
# exec-once = [workspace 3 silent] discord
# exec-once = [workspace 4 silent] spotify --minimized
# exec-once = dropbox start
# exec-once = syncthing -no-browser
# exec-once = flameshot &
# exec-once = kdeconnect-indicator &
# exec-once = redshift-gtk &
# exec-once = caffeine &
# exec-once = telegram-desktop -startintray

# Development tools (uncomment for development setup)
# exec-once = [workspace 2 silent] code
# exec-once = docker start
# exec-once = [workspace 5 silent] $terminal -e htop

# Gaming setup (uncomment for gaming)
# exec-once = steam -silent
# exec-once = lutris --hide-window
# exec-once = gamemode

# Content creation (uncomment for creators)
# exec-once = obs --startminimized
# exec-once = [workspace 5 silent] gimp
# exec-once = kdenlive
