# #######################################################################################
# WINDOW RULES CONFIGURATION
# Rules for specific applications and window behaviors
# #######################################################################################

##############################
### WINDOWS AND WORKSPACES ###
##############################

# Application-specific window rules
windowrulev2 = float,class:^(com.github.hluk.copyq)$
windowrulev2 = size 600 400,class:^(com.github.hluk.copyq)$
windowrulev2 = center,class:^(com.github.hluk.copyq)$

# Ignore maximize requests from apps
windowrule = suppressevent maximize, class:.*

# Fix some dragging issues with XWayland
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0

######################
### FLOATING WINDOWS ###
######################

# System utilities
windowrulev2 = float,class:^(pavucontrol)$
windowrulev2 = float,class:^(blueman-manager)$
windowrulev2 = float,class:^(nm-applet)$
windowrulev2 = float,class:^(nm-connection-editor)$
windowrulev2 = float,class:^(file-roller)$
windowrulev2 = float,class:^(qalculate-gtk)$
windowrulev2 = float,class:^(gnome-calculator)$
windowrulev2 = size 400 500,class:^(pavucontrol)$
windowrulev2 = size 500 600,class:^(blueman-manager)$

# File managers floating dialogs
windowrulev2 = float,class:^(.*),title:^(Open File)$
windowrulev2 = float,class:^(.*),title:^(Save File)$
windowrulev2 = float,class:^(.*),title:^(Open Folder)$
windowrulev2 = size 900 600,class:^(.*),title:^(Open File)$

# Picture-in-Picture
windowrulev2 = float,title:^(Picture-in-Picture)$
windowrulev2 = pin,title:^(Picture-in-Picture)$
windowrulev2 = size 640 360,title:^(Picture-in-Picture)$
windowrulev2 = move 100%-660 100%-400,title:^(Picture-in-Picture)$
windowrulev2 = keepaspectratio,title:^(Picture-in-Picture)$

##########################
### WORKSPACE ASSIGNMENTS ###
##########################

# Browser
windowrulev2 = workspace 2,class:^(firefox)$
windowrulev2 = workspace 2,class:^(zen-alpha)$
windowrulev2 = workspace 2,class:^(chromium)$
windowrulev2 = workspace 2,class:^(Google-chrome)$

# Communication
windowrulev2 = workspace 3,class:^(discord)$
windowrulev2 = workspace 3,class:^(Slack)$
windowrulev2 = workspace 3,class:^(telegram-desktop)$
windowrulev2 = workspace 3,class:^(Signal)$

# Media
windowrulev2 = workspace 4,class:^(spotify)$
windowrulev2 = workspace 4,class:^(YouTube Music)$
windowrulev2 = workspace 4,title:^(YouTube Music)$
windowrulev2 = workspace 4,class:^(mpv)$
windowrulev2 = workspace 4,class:^(vlc)$

# Development
windowrulev2 = workspace 5,class:^(code)$
windowrulev2 = workspace 5,class:^(Code)$
windowrulev2 = workspace 5,class:^(jetbrains-.*)$

# Gaming
windowrulev2 = workspace 6,class:^(steam)$
windowrulev2 = workspace 6,class:^(lutris)$
windowrulev2 = workspace 6,class:^(heroic)$
windowrulev2 = workspace 6,title:^(Steam)$

# Graphics
windowrulev2 = workspace 7,class:^(gimp)$
windowrulev2 = workspace 7,class:^(inkscape)$
windowrulev2 = workspace 7,class:^(krita)$
windowrulev2 = workspace 7,class:^(blender)$

# Office
windowrulev2 = workspace 8,class:^(libreoffice.*)$
windowrulev2 = workspace 8,class:^(Joplin)$
windowrulev2 = workspace 8,class:^(obsidian)$

#######################
### OPACITY RULES ###
#######################

# Terminal transparency
windowrulev2 = opacity 0.95 0.85,class:^(kitty)$
windowrulev2 = opacity 0.95 0.85,class:^(Alacritty)$
windowrulev2 = opacity 0.95 0.85,class:^(wezterm)$

# Code editors slight transparency
windowrulev2 = opacity 0.97 0.92,class:^(code)$
windowrulev2 = opacity 0.97 0.92,class:^(Code)$

# File managers
windowrulev2 = opacity 0.96 0.90,class:^(nautilus)$
windowrulev2 = opacity 0.96 0.90,class:^(thunar)$

###################
### GAMING RULES ###
###################

# Disable blur and effects for games
windowrulev2 = noblur,class:^(steam_app_.*)$
windowrulev2 = noshadow,class:^(steam_app_.*)$
windowrulev2 = noborder,fullscreen:1,class:^(steam_app_.*)$
windowrulev2 = fullscreen,class:^(steam_app_.*)$

# Wine/Proton games
windowrulev2 = noblur,class:^(.*\.exe)$
windowrulev2 = noshadow,class:^(.*\.exe)$

# Gaming launchers optimizations
windowrulev2 = opacity 0.98 0.95,class:^(steam)$,title:^((?!notificationtoasts).*)$
windowrulev2 = float,class:^(steam)$,title:^(Friends List)$
windowrulev2 = float,class:^(steam)$,title:^(Steam Settings)$

############################
### SPECIAL WINDOW TYPES ###
############################

# Tooltips and popups
windowrulev2 = float,class:^$,title:^$
windowrulev2 = noborder,class:^$,title:^$
windowrulev2 = noanim,class:^$,title:^$

# Notifications
windowrulev2 = float,class:^(.*notification.*)$
windowrulev2 = float,title:^(.*notification.*)$
windowrulev2 = noborder,class:^(.*notification.*)$
windowrulev2 = nofocus,class:^(.*notification.*)$

# Screenshots and screen capture
windowrulev2 = float,class:^(flameshot)$
windowrulev2 = noanim,class:^(flameshot)$
windowrulev2 = noborder,class:^(flameshot)$
windowrulev2 = float,title:^(.*Sharing Indicator)$
windowrulev2 = move 100%-400 0,title:^(.*Sharing Indicator)$

# Virtual machines
windowrulev2 = float,class:^(virt-manager)$
windowrulev2 = size 1200 800,class:^(virt-manager)$
windowrulev2 = fullscreen,class:^(.*VirtualBox.*)$,title:^(.*running)$

####################
### TILING RULES ###
####################

# Force tiling for certain apps
windowrulev2 = tile,class:^(Spotify)$
windowrulev2 = tile,class:^(discord)$

# Center specific windows
windowrulev2 = center,class:^(pavucontrol)$
windowrulev2 = center,class:^(blueman-manager)$
windowrulev2 = center,class:^(qalculate-gtk)$

######################
### ANIMATION RULES ###
######################

# Disable animations for some windows
windowrulev2 = noanim,class:^(wofi)$
windowrulev2 = noanim,class:^(rofi)$
windowrulev2 = noanim,title:^(.*)(slurp)(.*)$

# Special animations for specific apps
windowrulev2 = animation popin 90%,class:^(kitty)$
windowrulev2 = animation slide,class:^(wofi)$
